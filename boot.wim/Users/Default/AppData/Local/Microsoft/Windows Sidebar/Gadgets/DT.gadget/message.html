<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="skins/skin1/message.css" rel="stylesheet" type="text/css" id="current_skin" />
<script src="js/gadjet_scripts.js" type="text/javascript"></script>
<script src="js/global_settings.js" type="text/javascript"></script>
<script type="text/javascript">
gSettings.pageName = 'message';
function addClass(element, value) {
	if (!element.className) {
		element.className = value;
	} else {
		var newClassName = element.className;
		newClassName += " ";
		newClassName += value;
		element.className = newClassName;
	}
}
function hasClass (element, value) {
	if (typeof element == 'undefined' || element==null ) { return false; }
	if(element.className) {
		str = element.className.split( " " );
		for( i = 0; i < str.length; i++ ){
			if(str[i]==value) return true;
		}
	}
	return false;
}
function removeClass(element, value) {
	if (element.className) {
		var newClassName = "";
		str = element.className.split( " " );
		for( i = 0; i < str.length; i++ ){
			if( str[i] != value && str[i]!="" ) newClassName += ( i==0 ? "" : " " ) + str[i];
		}
		element.className = newClassName;
	}
	return 0;
}
function changeMessage (type, title, text, func, BtOk, BtCancel) {
	var ttl = System.Gadget.Flyout.document.getElementById('title_text');
	var img = System.Gadget.Flyout.document.getElementById('message_img');
	var txt = System.Gadget.Flyout.document.getElementById('message_content');
	var cancelButt = System.Gadget.Flyout.document.getElementById('cancel_butt');
	ttl.innerHTML = title;
	txt.innerHTML = text;
  System.Gadget.Flyout.document.getElementById('cancel_butt').value = BtOk;
  System.Gadget.Flyout.document.getElementById('ok_butt').value = BtCancel;
	switch(type) {
		case 'warning' :
		img.style.background = 'url(img/warning.png) no-repeat';
		break;
		case 'info' :
		img.style.background = 'url(img/inf.png) no-repeat';
		break;
		case 'error' :
		img.style.background = 'url(img/error.png) no-repeat';
		break;
	}
	if(func!=false) {
		cancelButt.style.display = 'block';
		cancelButt.onclick = eval(func);
	}
}
</script>
<title></title>
</head>
<body class="make_img_body" onLoad="gSettings.loadSettings();  document.getElementById('change_skin_g').setAttribute('src', 'skins/'+gSettings.currentSkin+'/message_window.png'); changeMessageSkin(gSettings.currentSkin, System.Gadget.Flyout.document); changeMessage(gSettings.messageType, gSettings.messageTitle, gSettings.messageText, gSettings.messageButtonCancel, gSettings.BtOk, gSettings.BtCancel)" >
<div style="position:absolute; top:0px; left:0px; padding:9px;">
<div class="messageTitle" id="message_img">
	<span class="titleText" id="title_text">
		Make image
	</span>
	<div class = "closeDiv" onMouseOver="addClass(this, 'hover')" onMouseOut="removeClass(this, 'hover')" onClick="System.Gadget.Flyout.show = false;"><img src="img/1.gif" class="close" /></div>
</div>
<div class="messageContent" id="message_content">
	
</div>
<input style="float:right; margin-top:10px; padding:0 10px; display:none;" type="button" value="Cancel" id="cancel_butt" onClick="System.Gadget.Flyout.show = false;" >
<input style="float:right; margin-top:10px; padding:0 10px;" type="button" value="ok" id="ok_butt" onClick="System.Gadget.Flyout.show = false;">
</div>
<g:background id="change_skin_g" style="z-index:-1" src="skins/img/message_window.png" />
</body>
</html>
